======
README
======

| 2013-04-05 林秀樹
| 2016-08-25 林秀樹


このアーカイブについて
======================

このアーカイブには、日本語のかな表記 (ひらがなまたはカタカナ) を
ローマ字表記へ変換するプログラムを収録しています。

このアーカイブに含まれるプログラム、データ、本書を含む文書その他の
ファイルは、特に記載がない限り、林秀樹が著作権を有し、所有権を
留保しています。

    Copyright (C) 2013 HAYASI Hideki.  All rights reserved.

Python は Python Software Foundation の登録商標または商標であり、
その知的財産権は同団体が保有し管理しています。
詳しくは http://www.python.org/about/legal/ をご覧ください。


動作条件
========

Python 3.5


ライセンス
==========

Zope Public License (ZPL) Version 2.1 を採用しています。


収録物
======

README.rst
    本書 (英語版)

README_ja.rst
    本書

LICENSE
    Zope Public License (ZPL) Version 2.1

LICENSE.ja
    Zope Public License (ZPL) Version 2.1 (日本語訳)

romaja.py
    プログラム本体

setup.py
    モジュールインストール用スクリプト


使い方
======

``romaja.py`` は次のモジュール関数を提供します。

roma(KANAWORD, system='ANSI', composite=False)
    KANAWORD 中のひらがなまたはカタカナをローマ字へ変換します。
    `system` で変換方式 (次項参照) を指定します。無指定時は ANSI 準拠
    とします (ただし、この規格はすでに廃止されています)。 `composite`
    を ``True`` にすると、長音部分はアクセント記号付きのローマ字となり
    ます。この場合、戻り値は ASCII 文字集合に収まりません。

以下の関数は互換性のために用意されており、将来廃止される予定です。

romazi(KANAWORD)
    KANAWORD 中のひらがなまたはカタカナを訓令式ローマ字へ変換します。
    第 2 表は用いません。

romaji(KANAWORD)
    KANAWORD 中のひらがなまたはカタカナをヘボン式ローマ字へ変換します。

ローマ字表記方式
================

ローマ字表記方式は種々あるため、 `system` で使用する方式を選択するか、
カスタマイズを行います。

定義済みの方式
--------------

`system` に文字列を指定した場合は、以下のいずれかの定義済み表記方式を採用
します。

ANSI
    現代的ヘボン式 (ANSI Z39.11-1972) です。ただし、この米国規格はすでに
    廃止されています。長音はマクロンで表します。ンの前に母音がある場合は
    区切り記号としてアポストロフィーをはさみます。ンは常に N で表します。

ISO
    訓令式 (第一表のみ) です。ISO3602:1989 に採用されています。長音はサー
    カムフレックスで表します。ンの前に母音がある場合は区切り記号として
    アポストロフィーをはさみます。ンは常に N で表します。日本語になかった
    音については、仮名小文字を大文字へ変換した上でローマ字にします。

KUNREI2
    訓令式 (第二表も用いるもの) です。シは SHI、ジは JI となります。チャ
    は CHA となります。ただし、マッチャは MATCHA ではなく MACCHA となり
    ます。ンは常に N で表します。

HEPBURN
    伝統的ヘボン式です。長音は母音を二つ並べることで表します。ンの前に
    母音がある場合は区切り記号としてハイフンをはさみます。ンは破裂音
    (バ行・パ行・マ行) の前にある場合は M で表します。

ROAD
    道路標識で用いられる方式です。長音は表しません。ンの前に母音がある
    場合は区切り記号としてハイフンをはさみます。ンは常に N で表します。

RAIL
    駅標名で用いられる方式です。長音はマクロンで表します。ンの前に母音が
    ある場合は区切り記号としてハイフンをはさみます。ンは破裂音の前にある
    場合は M で表します。

MOFA
    外務省式です。ただし、パスポート申請で本人が別の表記を指定している
    場合がありますので使用にあたっては注意を要します。長音は表しません。
    ンの前に母音があっても区切り記号をはさみません。ンは破裂音の前にある
    場合は M で表します。日本語になかった音については、仮名小文字を大文
    字へ変換した上でローマ字にします。

デフォルト値は 'ANSI' です。

カスタム方式
------------

ローマ字表記をカスタマイズするには、次のすべてのキーを持つ辞書を `system`
に指定します。

macron
    長音を表現するとき母音の後に続ける記号を指定します。'+' とすると、
    長音は母音を二つ並べることで表現します。'H' とすると、A および O の
    長音を AH および OH で、I の長音を II で表し、U および E の長音は
    表しません。空文字列を指定すると、すべての長音を表しません。

apostrophe
    母音またはヤユヨの前にンがある場合にはさむ区切り記号を指定します。
    空文字列を指定すると、区切りを入れません。

m4n
    破裂音 (バ行・パ行・マ行) の前にあるンを 'M' で表す場合は True と
    します。

extend
    日本語にない発音 (ディなど) を英語風に表記する場合は True とします。
    False とすると、これらを訓令式 (第一表のみ) で表記します。省略時は
    True とみなします。

コマンドラインツール
====================

``romaja.py`` をスクリプトとして実行すると、コマンドライン引数または
標準入力から得た表記のうちひらがなまたはカタカナの部分をローマ字へ変換
します。::

    $ python romaja.py ローマじ へんかん は めんどう だ。
    RO~MAJI HENKAN HA MENDO~ DA。

チルダ (``~``) はマクロンの代用として出力されているものです。 ``system``
に 'ISO' や 'KUNREI2' を指定した場合はサーカムフレックス (``^``) が出力
されます。長音記号を独立した記号で表さずアクセント記号を付した文字で表し
たい場合はオプション ``--composite`` または ``--c`` を指定してください。
[1]_::

    $ py romaja.py -c ローマじ へんかん は めんどう だ。
    RŌMAJI HENKAN HA MENDŌ DA。

.. [1] アクセント記号付き文字は、稼働環境によりアクセント記号なしの文字
    と同じ見た目になることがあります。

`macron` および `apostrophe` に空文字列を指定したい場合は、代わりに
'NO' を指定してください。


注意事項
========

このアーカイブに含まれる内容は、高信頼性システム向けのものではなく、瑕疵
を含む可能性があります。作者はこのプログラムがいかなる特定用途に適合する
ことも保証しません。詳しくは LICENSE をお読みください。

このプログラムは、日本語の厳密なローマ字表記をする場合に必要となる形態素
解析を行いません。より正確な結果を得るには、 MeCab
(http://taku910.github.io/mecab/) 等を検討してください。

以上
